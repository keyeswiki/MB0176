MB0176 Mega 2560 R3 Board
=========================

|image1|

概述
----

Mega 2560 R3 Board的处理器核心是ATMEGA2560-16AU，它和官网的ARDUINO MEGA
2560
REV3完全兼容。它同时具有54路数字输入/输出口（其中15路可作为PWM输出），16路模拟输入，4路串口通信接口，1个16MHz晶体振荡器，1个USB口，1个电源插座，1个ICSP接口和1个复位按钮。

其中ICSP可给ATMEGA2560-16AU烧录固件，由于这个芯片我们在出厂前都以烧录好固件，所有一般不用。使用时我们可以利用USB线供电，利用黑色DC头外部供电（DC
7-12V），还可以利用排母接口Vin GND（DC 7-12V）供电。

规格参数
--------

1.  微控制器：ATMEGA2560-16AU
2.  工作电压：5V
3.  输入电压：DC7-12V (推荐：9V)
4.  数字I/O引脚：54(D0-D53)
5.  PWM数字I/O引脚：15(D2-D13 D44-D46)
6.  模拟输入引脚：16(A0-A15)
7.  每个I/O引脚的直流电流：20 mA
8.  3.3V引脚的直流电流：50 mA
9.  闪存：256 KB，其中8 KB由BootLoader使用
10. SRAM：8 KB
11. EEPROM：4KB
12. 时钟速度：16 MHz
13. LED BUILTIN：D13
14. 开发板尺寸：101.6MM×53.2MM×12MM
15. 开发板重量：30.6G
16. 工作温度：0℃~50℃

|image2|

产品接口和主要器件说明图例
--------------------------

|image3|

+----+--------------+------------------------------------------------+
| 1  | 数字I/O      | 有54个数字I/O引脚（D0-D53）（其中1             |
|    |              | 5个提供PWM（脉宽调制）输出），这些引脚可配置为 |
|    |              | 数字输入引脚，用于读取逻辑值（0或1）；或作为数 |
|    |              | 字输出引脚来驱动不同的模块，如LED，继电器等。  |
+====+==============+================================================+
| 2  | 地线         | GND                                            |
+----+--------------+------------------------------------------------+
| 3  | AREF         | 代表模拟参考。它有时用于设置外部               |
|    |              | 参考电压（0至5伏之间）作为模拟输入引脚的上限。 |
+----+--------------+------------------------------------------------+
| 4  | SDA          | IIC通信接口 SDA                                |
+----+--------------+------------------------------------------------+
| 5  | SCL          | IIC通信接口 SCL                                |
+----+--------------+------------------------------------------------+
| 7  | USB接口      | 接到电脑USB端                                  |
|    |              | 口，可以给控制板供电，还可以给控制板上传程序。 |
+----+--------------+------------------------------------------------+
| 8  | D13          | 当                                             |
|    |              | D13为高电平时，LED亮起，为低电平时，LED熄灭。  |
+----+--------------+------------------------------------------------+
| 10 | TX信号指示灯 | 控制板通过串口通信，发送信息时，TX灯闪烁。     |
+----+--------------+------------------------------------------------+
| 11 | RX信号指示灯 | 控制板通过串口通信，接收到信息时，RX灯闪烁。   |
+----+--------------+------------------------------------------------+
| 12 | 晶体振荡器   | 频率是16,000,000赫兹或16MHz。                  |
+----+--------------+------------------------------------------------+
| 13 | 稳压器       | 它将外部输入的DC 7-12V电压转化成DC             |
|    |              | 5V电压，然后将DC 5V电压                        |
|    |              | 转送给处理器和其他元件。                       |
+----+--------------+------------------------------------------------+
| 14 | DC7-12V      | 给控制板输入DC 7-12V 外接电源供电。            |
+----+--------------+------------------------------------------------+
| 15 | IOREF接口    | 用于配置微控制器等工作电压                     |
+----+--------------+------------------------------------------------+
| 16 | RESET        | 可外接按键，和复位按键功能一样。               |
+----+--------------+------------------------------------------------+
| 17 | 3.3V         | 提供DC 3.3V 输出电压。                         |
+----+--------------+------------------------------------------------+
| 18 | 5V           | 提供DC 5V 输出电压。                           |
+----+--------------+------------------------------------------------+
| 20 | 模拟引脚     | 16个模拟引脚A0-A15。                           |
+----+--------------+------------------------------------------------+
| 21 | 复位按键     | 可以重置你的控制板                             |
+----+--------------+------------------------------------------------+
| 22 | ICSP引脚     | 是一个AVR，一个由MOSI，MISO，SCK，             |
|    |              | RESET，VCC和GND组成的的微型编程头。它通常被称  |
|    |              | 为SPI（串行外设接口），可以被认为是输出的“扩展 |
|    |              | ”。实际上，你是将输出设备从属到SPI总线的主机。 |
|    |              | 连接电脑时，可以给ATMEGA2560-16U-TW烧录固件。  |
+----+--------------+------------------------------------------------+
| 23 | 微控制器     | 每个                                           |
|    |              | 控制板板都有自己的微控制器。你可以假设它作为板 |
|    |              | 的大脑。微控制器通常是ATMEL公司的。在从Arduino |
|    |              | IDE加载新程序                                  |
|    |              | 之前，你必须知道你的板上有什么IC。此信息位于I  |
|    |              | C顶部。这个控制板的微控制器是ATMEGA2560-16AU。 |
+----+--------------+------------------------------------------------+
| 24 | 电源指示灯   | 给控制板供电时，LED亮起，否则熄灭。            |
+----+--------------+------------------------------------------------+

产品特殊接口及功能说明或注意事项
--------------------------------

串口通信接口(4路)：
Serial（D0为RX0、D1为TX0）、Serial1（D19为RX1、D18为TX1）、

Serial2
（D17为RX2、D16为TX2）、Serial3（D15为RX3、D14为TX3），其中D0和D1连接的是ATMEGA2560-16U-TW这个USB转串口芯片。

PWM接口（脉宽调制）：D2-D13和D44-D46

外部中断接口：D2（中断0）、D3（中断1）、D21（中断2）、D20（中断3）、D19（中断4）和D18（中断5）

SPI通信接口：D53为SS、D51为MOSI、D50为MISO、D52为SCK

IIC通信端口：D20为SDA、D21为SCL

产品使用说明
------------

下载安装Arduino IDE(WIN10/MAC)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

拿到这个控制板后，我们首先需要下载安装Arduino IDE。

你可以进入以下网址下载Arduino IDE：\ https://www.arduino.cc/en/software/
进入到这里,根据自己电脑系统选择不同的下载软件\ |image4|

就可以下载最新的2.3.4版本IDE了.如果出现下面了这个界面，就选择\ |image5|\ ，直到他开始下载就可以啦
，如果没有的话请直接忽略.!\ |image6|

安装过程就很简单了，一直点我同意或者下一步就行了\ |image7|

注意，到了这一步的时候我们要记住安装路径，确保自己下次可以找到这个文件,确定没问题就点击安装。

|image8|

到了这里Arduino IED已经下载安装好啦 。

下载USB芯片驱动
~~~~~~~~~~~~~~~

接下来就是下载CH340驱动了，，驱动提取链接:
https://www.wch.cn/downloads/category/67.html

第一步我们选择和自己板子一样的芯片型号，第二步根据自己的电脑系统选择合适的驱动下载。

|image9|

WINDOWS版本驱动
^^^^^^^^^^^^^^^

选择Windows版本的驱动点击进去后，我们选择下载，随后在右上角找到下载图标，打开下载的文件。

|image10|

打开文件后我们点击安装就可以。

|image11|

随后我们检查一下驱动安装是否成功，将控制板用USB线连接在电脑上后我们要寻找到设备管理器，在电脑桌面的左下角有个\ |image12|\ ，点击之后我们找到此电脑，随后右击鼠标，是右击鼠标哦，选择更多，点击管理。

|image13|

点击之后我们就可以找到设备管理器啦

|image14|

下图的样子是安装失败的显示，需要重新安装或者换个接口试试，如果成功，请跳过这张。

|image15|

确保设备管理器中显示的端口如图所示就代表安装成功了

|image16|

MAC版本驱动安装
^^^^^^^^^^^^^^^

选择适合MAC的软件下载，进去到其中后我们点击下载，随后在下载栏中找到自己的下载的软件。\ |image17|

打开安装包后我们就可以获得这三个文件，切记！！三个文件要放在一个文件夹里！！！随后我们点击后缀为PKG的文件进行安装。

|image18|

接下来还是一样的，继续，下一步，安装三部曲就好啦，不过还是要注意，安装的位置一定要清楚哦。

|image19|

|image20|

Arduino IDE代码烧入
~~~~~~~~~~~~~~~~~~~

首先我们点击\ |image21|\ 图标，打开Arduino
IDE，按照图片顺序依次选择我们的开发板和端口（一定要选择正确的开发板哦，不然是无法连接的！！)\ |image22|

来到这个界面我们先输入自己开发板的关键字，随后弹出对应的开发板型号，在选择我们之前确定的端口（一定要选择正确的开发板哦，不然是无法连接的！！)再点击确定。

|image23|

随后，我们就要开始创建项目啦,你可以选择Ctrl+N亦或者点击图标后出现新建项目的选择，点击后,得到了这个界面

|image24|

接下来就是代码烧入了，将以下代码复制粘贴到我们的界面里面，注意！！原来里面的东西要全部删除哦

::

   int val;     //设置变量
   int ledpin=13;  //设置led引脚为13

   void setup()
   {
     Serial.begin(9600);    //设置波特率
     pinMode(ledpin,OUTPUT);   //设置引脚模式
   }

   void loop()
   {
     val=Serial.read();    //将串口赋值参数
     if(val=='R')          //进行串口参数条件判断
       {
       digitalWrite(ledpin,HIGH);    //灯亮
       delay(500);                  //等待500毫秒
       digitalWrite(ledpin,LOW);     //灯灭
       delay(500);                 //等待500毫秒
       Serial.println("Hello World!");   //串口输出Hello World!
       }
   }

    

随后我们就要开始编译和烧入程序啦，按照顺序点击\ |image25|\ ，出现下面框选的东西（这是代表程序没有问题，要是没有出现下面输出框框内的东西要检查代码是否正确哦)，之后再次点击\ |image26|

|image27|

随后我们就可以看看代码功能了，Ctrl+Shift+M或者点击右上角图标串口监视窗口，需要检查波特率是否和我们代码波特率一致（如果不一致容易出现代码功能错误）随后在串口监视器里面输入一个字母R，按Enter，就会弹出“Hello
World”

|image28|

同时，我们的控制板灯也会闪烁一下,这样你就成功的踏入了程序员的旅程啦。

|image29|

常见问题解决方法
----------------

串口无法连接：
~~~~~~~~~~~~~~

1.需要检查驱动是否安装成功，重新安装CH340驱动.

2.需要看看type-c接口调换一下，或者电脑接口重新拔插一下，再或者换跟数据线试试.

产品代码烧入失败
~~~~~~~~~~~~~~~~

1.检查开发板和端口是否选择正确，重新选择对应端口和开发板.

2.看看代码是否正确，将文本代码复制粘贴进去看看.

3.检查接口是否松动，将接口重新拔插.

4.关闭软件重新打开或者重启电脑.

产品重要芯片的规格书下载
------------------------

:download:`ATMEGA2560 16U数据手册 <./规格书/ATMEGAP.7z>`

:download:`CH340C数据手册 <./规格书/CH340C.7z>`



.. |image1| image:: ./media/1.1.jpeg
.. |image2| image:: ./media/2.1.jpeg
.. |image3| image:: ./media/3.1.jpeg
.. |image4| image:: ./media/5.1.png
.. |image5| image:: ./media/5.1.1.png
.. |image6| image:: ./media/5.2.png
.. |image7| image:: ./media/5.3.png
.. |image8| image:: ./media/5.4.png
.. |image9| image:: ./media/5.5.png
.. |image10| image:: ./media/5.6.png
.. |image11| image:: ./media/5.7.png
.. |image12| image:: ./media/5.2.1.png
.. |image13| image:: ./media/5.8.png
.. |image14| image:: ./media/5.9.png
.. |image15| image:: ./media/5.10.png
.. |image16| image:: ./media/5.11.png
.. |image17| image:: ./media/5.12.png
.. |image18| image:: ./media/5.13.png
.. |image19| image:: ./media/5.14.jpeg
.. |image20| image:: ./media/5.15.jpeg
.. |image21| image:: ./media/5.3.1.png
.. |image22| image:: ./media/5.16.png
.. |image23| image:: ./media/5.17.png
.. |image24| image:: ./media/5.18.png
.. |image25| image:: ./media/5.3.2.png
.. |image26| image:: ./media/5.3.3.png
.. |image27| image:: ./media/5.19.png
.. |image28| image:: ./media/5.20.png
.. |image29| image:: ./media/5.21.gif



